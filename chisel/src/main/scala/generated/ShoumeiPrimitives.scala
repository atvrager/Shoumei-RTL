// Auto-generated by Shoumei -- Chisel primitive helpers for codegen v2
// These thin wrappers provide consistent register/memory instantiation
// across all generated modules.
package generated

import chisel3._

/** Thin wrapper for DFF with async reset to zero.
  * Returns plain UInt -- no hierarchy, no Decoupled overhead.
  *
  * Usage:
  *   val data_reg = ShoumeiReg(32, clock, reset)
  *   data_reg := data_next
  */
object ShoumeiReg {

  /** N-bit register with async reset to zero. Returns UInt(width.W). */
  def apply(width: Int, clock: Clock, reset: AsyncReset): UInt =
    withClockAndReset(clock, reset) { RegInit(0.U(width.W)) }

  /** 1-bit Bool register with async reset to false. */
  def bool(clock: Clock, reset: AsyncReset): Bool =
    withClockAndReset(clock, reset) { RegInit(false.B) }
}

/** Thin wrapper for memory primitives.
  *
  * Usage:
  *   val mem = ShoumeiMem(64, 32)          // async-read (register file)
  *   val sram = ShoumeiMem.syncRead(64, 32) // sync-read (block RAM)
  */
object ShoumeiMem {

  /** Async-read memory (Chisel Mem). Use for register files, small arrays. */
  def apply(depth: Int, width: Int): Mem[UInt] =
    Mem(depth, UInt(width.W))

  /** Sync-read memory (Chisel SyncReadMem). Use for SRAM, block RAM. */
  def syncRead(depth: Int, width: Int): SyncReadMem[UInt] =
    SyncReadMem(depth, UInt(width.W))
}
